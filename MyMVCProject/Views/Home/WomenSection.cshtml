@{
    ViewData["Title"] = "Women - DressUp";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="~/css/WomenSection.css" />
<base href="~/Images/"/>

<div class="container-fluid py-4 women-page">
    <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap">
        <h1 class="fw-semibold mb-3 mb-md-0">Women's Collection</h1>
        <div class="d-flex align-items-center gap-2">
            <select id="sortSelect" class="form-select form-select-sm">
                <option value="new">Newest</option>
                <option value="price-asc">Price: Low → High</option>
                <option value="price-desc">Price: High → Low</option>
                <option value="rating">Best Rated</option>
            </select>
           
        </div>
    </div>

    <div class="row g-4">
        <!-- Sidebar Filters -->
        <aside class="col-lg-3 col-md-4">
            <div class="card shadow-sm p-3 filters">
                <h5 class="fw-semibold mb-3">Filters</h5>

                <div class="mb-3">
                    <label class="fw-medium">Category</label>
                    <div class="form-check"><input class="form-check-input" type="checkbox" value="tops"> Tops</div>
                    <div class="form-check"><input class="form-check-input" type="checkbox" value="dresses"> Dresses</div>
                    <div class="form-check"><input class="form-check-input" type="checkbox" value="jeans"> Jeans</div>
                    <div class="form-check"><input class="form-check-input" type="checkbox" value="ethnic"> Ethnic Wear</div>
                </div>

                <div class="mb-3">
                    <label class="fw-medium">Price Range</label>
                    <div class="d-flex gap-2">
                        <input type="number" min="0" placeholder="Min" class="form-control form-control-sm" />
                        <input type="number" min="0" placeholder="Max" class="form-control form-control-sm" />
                    </div>
                </div>

                <div class="mb-3">
                    <label class="fw-medium">Size</label>
                    <div class="d-flex flex-wrap gap-2">
                        <button type="button" class="btn btn-outline-secondary btn-sm size">XS</button>
                        <button type="button" class="btn btn-outline-secondary btn-sm size">S</button>
                        <button type="button" class="btn btn-outline-secondary btn-sm size">M</button>
                        <button type="button" class="btn btn-outline-secondary btn-sm size">L</button>
                        <button type="button" class="btn btn-outline-secondary btn-sm size">XL</button>
                    </div>
                </div>

                <div class="mb-3">
                    <label class="fw-medium">Color</label>
                    <div class="d-flex gap-2 flex-wrap">
                        <button type="button" class="color-dot" style="--c:#e74c3c"></button>
                        <button type="button" class="color-dot" style="--c:#ffb6c1"></button>
                        <button type="button" class="color-dot" style="--c:#f7c46c"></button>
                        <button type="button" class="color-dot" style="--c:#9ee6c6"></button>
                        <button type="button" class="color-dot" style="--c:#1f2937"></button>
                    </div>
                </div>

                <div class="d-flex justify-content-between mt-4">
                    <button type="reset" class="btn btn-outline-secondary btn-sm">Clear</button>
                    <button type="submit" class="btn btn-primary btn-sm" style="background:var(--accent);border:none;">Apply</button>
                </div>
            </div>
        </aside>

        <!-- Product Grid -->
        <section class="col-lg-9 col-md-8">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-4" id="productGrid">
                <div class="col">
                    <div class="card product-card h-100">
                        <div class="position-relative">
                            <img src="Dress1.png" class="card-img-top" alt="Floral Midi Dress">
                            <button class="wish position-absolute top-0 end-0 m-2 btn btn-light btn-sm">♡</button>
                        </div>
                        <div class="card-body">
                            <h6 class="card-title">Floral Midi Dress</h6>
                            <p class="card-text text-muted mb-1">H&M</p>
                            <p class="fw-bold">₹1,200 <span class="text-muted text-decoration-line-through">₹1,500</span></p>
                            <button class="btn btn-outline-dark w-100">Add to Cart</button>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card product-card h-100">
                        <div class="position-relative">
                            <img src ="Dress2.png" class="card-img-top" alt="Denim Jacket">
                            <button class="wish position-absolute top-0 end-0 m-2 btn btn-light btn-sm">♡</button>
                        </div>
                        <div class="card-body">
                            <h6 class="card-title">Blue Denim Jacket</h6>
                            <p class="card-text text-muted mb-1">Zara</p>
                            <p class="fw-bold">₹2,700 <span class="text-muted text-decoration-line-through">₹3,900</span></p>
                            <button class="btn btn-outline-dark w-100">Add to Cart</button>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card product-card h-100">
                        <div class="position-relative">
                            <img src ="Dress3.png" class="card-img-top" alt="Denim Jacket">
                            <button class="wish position-absolute top-0 end-0 m-2 btn btn-light btn-sm">♡</button>
                        </div>
                        <div class="card-body">
                            <h6 class="card-title">Blue Denim Jacket</h6>
                            <p class="card-text text-muted mb-1">Zara</p>
                            <p class="fw-bold">₹2,700 <span class="text-muted text-decoration-line-through">₹3,900</span></p>
                            <button class="btn btn-outline-dark w-100">Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Theme toggle + basic sort simulation
    (function(){
      const toggle = document.getElementById('themeToggle');
      const root = document.documentElement;
      const stored = localStorage.getItem('dressup-theme');
      if(stored === 'dark') root.classList.add('dark');
      toggle.textContent = root.classList.contains('dark') ? '☀️' : '🌙';

      toggle.addEventListener('click', ()=>{
        root.classList.toggle('dark');
        const mode = root.classList.contains('dark') ? 'dark' : 'light';
        localStorage.setItem('dressup-theme', mode);
        toggle.textContent = mode==='dark'? '☀️':'🌙';
      });
    })();

    // Simple front-end sorting (simulate sorting by price)
    const sortSelect = document.getElementById('sortSelect');
    const grid = document.getElementById('productGrid');

    sortSelect.addEventListener('change', ()=>{
      const items = Array.from(grid.children);
      if(sortSelect.value.includes('price')){
        items.sort((a,b)=>{
          const pa = parseFloat(a.querySelector('.fw-bold').textContent.replace(/[^0-9]/g,''));
          const pb = parseFloat(b.querySelector('.fw-bold').textContent.replace(/[^0-9]/g,''));
          return sortSelect.value==='price-asc'? pa-pb : pb-pa;
        });
        grid.innerHTML='';
        items.forEach(i=>grid.appendChild(i));
      }
    });
</script>
<script>
    let lastScrollTop = 0;
    const navbar = document.querySelector('.navbar');

    window.addEventListener('scroll', () => {
      let scrollTop = window.pageYOffset || document.documentElement.scrollTop;

      if (scrollTop > lastScrollTop) {
        // scrolling down → hide navbar
        navbar.classList.add('hidden');
      } else {
        // scrolling up → show navbar
        navbar.classList.remove('hidden');
        // Make it transparent if near top
        if (scrollTop < 80) {
          navbar.classList.add('transparent');
        } else {
          navbar.classList.remove('transparent');
        }
      }

      lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; // Prevent negative
    });
</script>


